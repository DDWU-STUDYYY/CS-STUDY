### 캐시 

1. 캐시 
* 사용되었던 데이터는 다시 사용될 가능성이 높다는 개념을 이용 

2. 1차 캐시. 
영속성 컨텍스트의 이점이다. 객체의 동일성을 보장한다. 

3. 최종적으로 트랜잭션이 커밋되거나 플러시를 호출하면 1차 캐시의 엔티티 변경 내역이 
데이터베이스에 동기화된다. 

4. 1차 캐시의 한계.
* 1차 캐시는 트랜잭션 범위 내에서만 유효하다. 
* 트랜잭션이 커밋되거나 롤백되면 1차 개시에 저장된 엔티티는 삭제되고 다음 트랜잭션에서는 
다시 데이터베이스를 조회하게 된다. 

5. 2차 캐시 
애플리케이션 범위의 캐시이다. 객체의 동일성을 보장하지 않는다. 

6. 왜 2차 캐시는 복사본을 반환할까? 
* 동시성 때문이다. 만약 캐시한 객체를 그대로 반환하면 멀티 스레드 환경에서 동시성 이슈가 발생한다. 

7. 그래서 스프링에서는 DTO 객체를 사용하게 된다. 

### Q&A

1. 1차 캐시와 2차 캐시에 대해 설명해주세요 
1차 캐시는 객체의 동일성을 보장하고 2차 캐시는 보장하지 않는다. 

2. 왜 2차 캐시는 복사본을 반환하냐 
동시성 때문이다. 그래도 반환하게 되면 멀티 스레드 환경에서 동시성 이슈가 발생하게 된다. 