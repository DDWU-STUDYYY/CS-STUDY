### TCP/IP 4계층 모델 

1. 애플리케이션 계층 
* FTP.HTTP.SSH.SMTP.DNS 등 응용 프로그램이 사용되는 프로토콜 계층이다. 

2. DNS 
* 웹사이트를 위한 주소록이다. 

3. 분산 계층 데이터베이스 
* DNS 는 많은 서버를 이용해 계층 형태로 분산시킨다.
* 루트 DNS 서버 : 루트 네임 서버이다 
* 최상위 레벨 도메인 네임 : .com, .org. 등등 책인 DNS 서버에 대한 IP 주소를 제공한다. 
* 책인 DNS 서버 : 조직의 자체 DNS 서버, 조직의 명명 된 호스트에 대한 IP 매핑에 권한이 있는 호스트 이름을 제공한다 

4. DNS query 
* 서버의 IP 주소를 찾기 위해 DNS query 를 날린다. 

5. DNS 캐싱 
* DNS 지역 성능 향상과 네트워크의 DNS 메세지 수를 줄이기 위해 캐싱을 사용한다. 

6. 웹 통신의 흐름

1. 사용자가 웹 브라우드 검색창에 www.google.com 을 입력한다. 
2. 웹 브라우저는 해당 도메인 주소와 상응하는 IP 주소를 찾기 위해 캐싱된 DNS 기록을 확인한다 
3. 캐시가 없으면 DNS query를 시작한다. 
4. DNS 가 웹 브라우저에서 찾는 사이트의 IP 주소를 응답한다. 
5. TCP 통신을 시작한다. 
6. HTTP 프로토콜을 요청한다. 
7. 웹 어플리케이션 서버와 데이터베이스에서 우선 웹페이지 작업을 처리한다.
   (웹서버는 정적인 컨텐츠를 요청받아 처리하여 제공하는 서버이며 WAS 는 동적인 컨텐츠를 요청받아 처리하는 서버이다)
8. WAS 에서의 작업 처리 결과들을 웹 서버로 전송한다 
9. 웹 서버는 웹브라우저에게 html 문서 결과를 응답한다.
10. 웹 브라우저는 html 컨텐츠를 표시한다 

7. 웹 서버와 WAS 
* 웹 서버 : 정적인 컨텐츠를 요청받아 처리하여 제공하는 서버이다. : 정적인 컨텐츠만 처리할 수 있다. 
* WAS : 동적인 컨텐츠를 요청받아 처리하여 제공하는 서버이다. 주로 DB 서버와 함께 사용된다. 

8.  WAS + DB
* WAS 는 동적, 정적 컨텐츠를 모두 제공할 수 있기 때문에 웹 서버 없이 시스템을 구성할 수 있다. 
* 하지만 정적 리소스로 인해 수행이 어려울 수 있다. 

9. WEB + WAS + DB 
* 정적 컨텐츠는 웹 서버가 처리하고 동적인 애플리케이션 로직의 처리는 WAS에 요청한다. 
* 이렇게 하면 효율적이다. 

